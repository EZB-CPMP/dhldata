(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3fca528"],{"14eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageSize?a("div",{staticClass:"page-content"},[a("van-pagination",{attrs:{"prev-text":t.prevText,"next-text":t.nextText,"total-items":t.total,"show-page-size":t.showPageSize,"items-per-page":t.pageSize,"force-ellipses":""},on:{change:t.currentChange},model:{value:t.myCurrentPage,callback:function(e){t.myCurrentPage=e},expression:"myCurrentPage"}})],1):t._e()},i=[],s=(a("a9e3"),{props:{nextText:{default:"下",type:String},prevText:{default:"上",type:String},total:{default:0,type:Number},pageSize:{default:30,type:Number},isScrollTop:{default:!1,type:Boolean},currentPage:{default:1,type:Number}},data:function(){return{showPageSize:5,myCurrentPage:1}},computed:{},created:function(){this.myCurrentPage=this.currentPage},mounted:function(){document.body.offsetWidth>700&&(this.showPageSize=20)},watch:{currentPage:function(t,e){this.myCurrentPage=t}},methods:{currentChange:function(t){this.isScrollTop&&(document.body.scrollTop=document.documentElement.scrollTop=0),this.$emit("currentChange",{offset:(t-1)*this.pageSize,limit:this.pageSize},this.myCurrentPage)},handleSizeChange:function(t){this.$emit("pagination",{offset:(this.myCurrentPage-1)*t,rowsPerPage:t})},handleCurrentChange:function(t){this.$emit("pagination",{offset:(t-1)*this.pageSize,rowsPerPage:this.pageSize})}}}),r=s,c=(a("f8bf"),a("2877")),u=Object(c["a"])(r,n,i,!1,null,"787d6620",null);e["a"]=u.exports},"2d28":function(t,e,a){},"68a4":function(t,e,a){},8268:function(t,e,a){},"881f":function(t,e,a){"use strict";var n=a("68a4"),i=a.n(n);i.a},adba:function(t,e,a){"use strict";var n=a("8268"),i=a.n(n);i.a},c428:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-flex v-items-center v-justfily-center",staticStyle:{height:"40vh","text-align":"center"}},[a("van-loading",{staticClass:"loading",attrs:{color:t.color}})],1)},i=[],s={props:{color:"#ffffff"},data:function(){return{}}},r=s,c=(a("881f"),a("2877")),u=Object(c["a"])(r,n,i,!1,null,"7ff9852c",null);e["a"]=u.exports},cee2:function(t,e,a){"use strict";var n=a("d5ac"),i=a.n(n);i.a},d5ac:function(t,e,a){},efe3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchPage"},[a("topBar",{attrs:{isBack:"",title:"搜索"}}),a("div",{staticClass:"sticky-search"},[a("search",{on:{searchFn:t.searchFn}})],1),a("div",{staticClass:"sticky-space"}),a("div",{staticClass:"info"},[t.dataLoadingFinish?a("small",[t._v("共「 "+t._s(t.count)+" 」条结果")]):t._e()]),a("div",[t.dataLoadingFinish?a("itemList",{attrs:{dataList:t.dataList}}):a("loading"),a("div",{staticClass:"pages"},[a("page",{attrs:{currentPage:t.categoryPage,total:t.count},on:{currentChange:t.currentChange}})],1)],1)],1)},i=[],s=(a("d3b7"),a("f3f3")),r=a("2f62"),c=a("776c"),u=a("14eb"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search v-flex v-items-center v-justify-center"},[a("div",{staticClass:"search-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],ref:"searchRef",attrs:{placeholder:"搜一搜",type:"search",maxlength:30},domProps:{value:t.searchValue},on:{input:[function(e){e.target.composing||(t.searchValue=e.target.value)},t.searchInput],focus:t.searchFocus,blur:t.searchBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeSearch(e)}}})]),a("van-button",{staticClass:"sbut",attrs:{type:"primary"},on:{click:t.searchValueFn}},[t._v("搜索")]),t.isCancel?a("van-button",{staticClass:"sbut",attrs:{type:"info"},on:{click:t.searchBack}},[t._v("取消")]):t._e()],1)},l=[],h=(a("c975"),a("b0c0"),{props:{isCancel:{default:!1,type:Boolean}},data:function(){return{searchValue:""}},created:function(){this.$route.path.indexOf("/search")>=0&&this.$route.query.title&&(this.searchValue=this.$route.query.title)},methods:{searchBack:function(){this.searchValue="",this.$emit("searchBack"),this.$route.path.indexOf("/search")>=0&&this.$router.go(-1)},searchInput:function(){},searchFocus:function(){},searchBlur:function(){},changeSearch:function(){},searchValueFn:function(){if(!this.searchValue)return alert("请填写正确的搜索信息");this.$emit("searchFn",this.searchValue),"search"!==this.$route.name&&this.$router.push({path:"/search",query:{title:this.searchValue}})}}}),f=h,d=(a("cee2"),a("2877")),g=Object(d["a"])(f,o,l,!1,null,"6d4debea",null),p=g.exports,m=a("c428"),y={components:{itemList:c["a"],page:u["a"],search:p,loading:m["a"]},data:function(){return{dataList:[],count:0,dataLoadingFinish:!1,categoryPage:1,listQuery:{offset:0,limit:20}}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({})),{},{title:function(){return this.$route.query.title}}),mounted:function(){},created:function(){this.getDate(this.listQuery)},activated:function(){this.getDate(this.listQuery)},watch:{$route:function(){this.categoryPage=1,this.listQuery={offset:0,limit:20}}},methods:{searchFn:function(){this.categoryPage=1,this.listQuery={offset:0,limit:20},this.getDate(this.listQuery)},currentChange:function(t){this.getDate(t)},getDate:function(t){var e=this;this.listQuery=t,this.dataLoadingFinish=!1,this.$axios.request({method:"POST",url:"/api/videoList",data:Object(s["a"])(Object(s["a"])({},this.listQuery),{},{title:this.title})}).then((function(t){e.count=t.count,e.dataList=t.data})).catch((function(){})).finally((function(){e.dataLoadingFinish=!0}))}}},v=y,C=(a("adba"),Object(d["a"])(v,n,i,!1,null,"ffa26ee0",null));e["default"]=C.exports},f8bf:function(t,e,a){"use strict";var n=a("2d28"),i=a.n(n);i.a}}]);